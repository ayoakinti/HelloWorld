<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Ajax 3 - External API</title>
</head>
<body>
    <button id="button">Load GitHub Users</button>   
    <br><hr>
    <h1>GitHub Users</h1>
    <div id="users"></div>

    <script>
    document.getElementById("button").addEventListener("click", loadGitHub);

    function loadGitHub(){
        var xhr = new XMLHttpRequest;
        xhr.open("GET", "https://api.github.com/users", true)

        xhr.onload = function () {
            if(this.status == 200){
                var output = JSON.parse(xhr.responseText);
                console.log(output)
                
                var show = "<table>" +
                    "<thead>" +
                        "<th> ID </th>" +
                        "<th> Login </th>" +
                        "<th> Picture </th>" +
                    "</thead>"
                for(var i in output){
                    show += "<tbody>" +
                                "<td>" +output[i].id+ "</td>" + 
                                "<td>" +output[i].login.toUpperCase()+ "</td>" + 
                                "<td> <img src='"+output[i].avatar_url+"' width='80px' height='80px'></td>" + 
                            "</tbody>"
                }
                show += "</table>"
                document.getElementById("users").innerHTML = show;

            
            }
        }
        xhr.send()
    }
    
    </script>
</body>
</html>